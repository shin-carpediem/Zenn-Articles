---
title: "å‹•çš„å‹ä»˜ã‘è¨€èªã§å‹ã‚’æ˜è¨˜ã—ã¦ã¿ãŸ"
emoji: "ğŸ´"
type: "tech"
topics: ["å‹•çš„å‹ä»˜ã‘è¨€èª", "é™çš„å‹ä»˜ã‘è¨€èª"]
published: true
---

å‹•çš„å‹ä»˜ã‘è¨€èª Python ã‚’æ›¸ãæ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã€‚
é™çš„å‹ä»˜ã‘è¨€èªã«æµ¸ã‹ã£ã¦ã„ãŸç­†è€…ãŒã€æ…£ã‚Œãšã«å‹•çš„å‹ä»˜ã‘è¨€èªã‚’æ›¸ãã€ãƒã‚°ã‚’æ²¢å±±ç”£ã‚“ã§ã—ã¾ã„ã¾ã—ãŸã€‚

æœ¬è¨˜äº‹ã§ã¯ã€å‹•çš„å‹ä»˜ã‘è¨€èªã®åˆå­¦è€…ã«ãŠã™ã™ã‚ã ã¨æ€ã†æ›¸ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## å‹ã‚’æ›¸ããƒ¡ãƒªãƒƒãƒˆ

äºˆæœŸã—ãªã„å€¤ãŒæ··å…¥ã—ã¦ã€ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã®ã‚’é¿ã‘ã‚‹ãŸã‚ã§ã™ã€‚

å‹•çš„å‹ä»˜ã‘è¨€èªã§ã‚ã‚‹ Python ã§æ›¸ã‹ã‚ŒãŸä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ãã ã•ã„ã€‚

```python
number_list = ["0", "1", "2", 3, "4"]

for number in number_list:
    int(number)
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€`number` ãŒ 3 ã®æ™‚ã«ã€`str` å‹ã‚’ `int` å‹ã«å¤‰æ›ã™ã‚‹`int()`é–¢æ•°ã®å¼•æ•°ã« str å‹ã§ã¯ãªã„å‹ãŒæ¸¡ã•ã‚Œã‚‹ã®ã§ã€ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚

Java, Swift, TypeScript ã®ã‚ˆã†ãªé™çš„å‹ä»˜ã‘è¨€èªã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«å‹ã®ä¸ä¸€è‡´ã«ã‚ˆã‚‹ä¸Šè¿°ã—ãŸã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã§ãã¾ã™ã€‚
ä¸€æ–¹ PHP, Python, JavaScript ã®ã‚ˆã†ãªå‹•çš„å‹ä»˜ã‘è¨€èªã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹æ™‚ã«å¤‰æ•°ã®å‹ãŒæ±ºã¾ã‚Šã¾ã™ã€‚
ãªã®ã§ã€å‹•çš„å‹ä»˜ã‘è¨€èªã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹æ™‚ã¾ã§ã€ä¸Šè¿°ã—ãŸã‚¨ãƒ©ãƒ¼ã«è¨€èªæ©Ÿèƒ½ã‹ã‚‰ã¯æ°—ãŒã¤ã‘ã¾ã›ã‚“ã€‚

## äºˆæœŸã—ãªã„å€¤ãŒæ··å…¥ã—ã¦ã—ã¾ã†ç†ç”±

ã™ã§ã«æ›¸ã‹ã‚ŒãŸå¤‰æ•°ã®å‹ã‚’èª­ã¿é–“é•ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã—ã¾ã†ã‹ã‚‰ã§ã™ã€‚

ä¸€èˆ¬ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ™‚é–“ã‚ˆã‚Šã‚‚ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€æ™‚é–“ã®æ–¹ãŒé•·ã„ã¨ã•ã‚Œã¾ã™ã€‚
**è‡ªåˆ†ã®æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã§ã‚‚ã€åŠå¹´ã‚‚çµŒã¦ã°ã€ä»–ã®äººãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚**
(ç­†è€…ã‚‚ä½•åº¦ã‚‚ç—›ã„ç›®ã‚’è¦‹ã¾ã—ãŸ ğŸ˜…)

ä»–ã®äººãŒå®šç¾©ã—ãŸå¤‰æ•°ã«å‹ãŒæ›¸ã‹ã‚Œã¦ã„ãªã‘ã‚Œã°ã€ã©ã‚“ãªå€¤ãŒå…¥ã‚Šã†ã‚‹ã‹ã¯ã€ä¸Šæµã®ã‚³ãƒ¼ãƒ‰ã‚’ãŸã©ã‚‹ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚
å¤‰æ•°ã®å‹ã‚’ä¸€ã¤é–“é•ãˆãŸã‚‰ã€é–“é•ã£ãŸå‹ã‚’å‰æã¨ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã—ã¾ã„ã¾ã™ã€‚

## ä¾‹

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ãã ã•ã„ã€‚

```python
# DBã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒªã‚¹ãƒˆ(strå‹ã®ã¿ã‚’ä¿æŒ)ã‚’å–å¾—ã™ã‚‹
def fetch_number_list_from_db():
    number_list = ...
    return number_list

# DBã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒªã‚¹ãƒˆã« number ã‚’è¿½åŠ ã™ã‚‹
def append_number_to_list_in_db(number):
    ...

# DBã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒªã‚¹ãƒˆã« number ãŒã‚ã‚‹ã‹ã©ã†ã‹
def has_spesific_number_in_list(number):
    number_list = fetch_number_list_from_db()
    return (number in number_list)
```

ã“ã“ã§ã€é–¢æ•°`append_number_to_list_in_db`ã®å¼•æ•°`number`ã«`3`ã‚’æ¸¡ã—ãŸã‚‰ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚
é–¢æ•°`has_spesific_number_in_list`ã¯ã€
å¼•æ•° number ãŒ`3`ã®æ™‚ã¯ True ã‚’è¿”ã—ã¾ã™ãŒã€å¼•æ•° number ãŒ`"3"`ã®æ™‚ã¯ã€False ã‚’è¿”ã—ã¦ã—ã¾ã„ã¾ã™ã€‚

DB ã‹ã‚‰å–å¾—ã—ãŸã€`str`å‹ã® number ã‚’ä¿æŒã™ã‚‹ãƒªã‚¹ãƒˆã«ã€äºˆæœŸã—ãªã„`int`å‹ã® number ãŒè¿½åŠ ã•ã‚Œã¦ã—ã¾ã£ãŸäº‹ã§ã€
ãƒªã‚¹ãƒˆã¯ str å‹ã¨ int å‹ãŒæ··åœ¨ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚

ã“ã®ã‚ˆã†ã«ã€ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã§ DB ã«äºˆæœŸã—ãªã„å€¤ãŒæ··å…¥ã—ã€åˆ¥ã‚³ãƒ¼ãƒ‰ãŒãã‚Œã‚’å‚ç…§ã—ã¦ã—ã¾ã†ã“ã¨ã¯ã€ã‚ˆãã‚ã‚‹ä¸å…·åˆä¾‹ã® 1 ã¤ã§ã™ã€‚

## æ··å…¥ã•ã›ãªã„ãŸã‚ã®æ–¹æ³• 3 é¸

ã€ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€ã¯è‡ªæ˜ã§ã™ãŒã€æœ¬è¨˜äº‹ã§ã¯ã€ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¤ã¤ + Î± ã§è¡Œã†ã¨è‰¯ã•ã’ãª 3 ã¤ã®æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚
(ã‚‚ã—ä»–ã«ã‚‚è‰¯ã„æ–¹æ³•ã‚ã‚Šã¾ã—ãŸã‚‰ã€ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã§ã”æŒ‡æ‘˜ãã ã•ã„ ğŸ™)

- å…¨ã¦ã®å¤‰æ•°ã€é–¢æ•°ã®å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ã®å‹ã‚’æ›¸ã
- å‹•çš„å‹ä»˜ã‘è¨€èªã«ã‚‚å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã‚ã›ã‚‹
- é–¢æ•°ã‚’å‘¼ã³å‡ºã™éš›ã«å¼•æ•°åã‚’çœç•¥ã—ãªã„

## å…¨ã¦ã®å¤‰æ•°ã€é–¢æ•°ã®å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ã®å‹ã‚’æ›¸ã

Python ã§ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ç¤ºã—ã¦ã„ãã¾ã™ã€‚

### å¤‰æ•°

```python
number_list: list[str] = ["0", "1", "2", "3", "4"]
```

å€¤ã« Null ã«ãªã‚Šå¾—ã‚‹å ´åˆã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã¨ã—ã¦ãã¡ã‚“ã¨æ˜è¨˜ã—ã¾ã—ã‚‡ã†ã€‚

```python
number_list: list[str | None] = ["0", "1", "2", "3", None, "4"]
```

:::message
ä¸Šè¨˜ã¯ Python 3.10 ã§å¯èƒ½ã«ãªã£ãŸæ›¸ãæ–¹ã§ã™ã€‚
Python 3.9 ã¾ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```python
from typing import Optional

number_list: list[Optional[str]] = ["0", "1", "2", "3", None, "4"]
```

:::

### ã‚¿ã‚¤ãƒ—ã‚¨ã‚¤ãƒªã‚¢ã‚¹

å‹ãŒè¤‡é›‘ãªå ´åˆã¯ã€å‹ã®åˆ¥å(`ã‚¿ã‚¤ãƒ—ã‚¨ã‚¤ãƒªã‚¢ã‚¹`)å®šç¾©ã™ã‚‹ã®ã‚‚æ‰‹ã§ã™ã€‚
ãŸã ã—å€‹äººçš„ã«ã¯ã€`Null` ã¨ãã®ä»–ã®å‹ã¨ã¯åˆ†ã‘ã¦å®šç¾©ã—ãŸæ–¹ãŒè‰¯ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚
Null ã¯ 1 æ®µéšã€å‹ã®æŠ½è±¡åº¦ãŒä¸ŠãŒã‚‹ã‹ã‚‰ã§ã™ã€‚
ã„ãšã‚Œã«ã—ã¦ã‚‚ã€å‹ã¯æ¼ã‚Œãªãæ˜è¨˜ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

```python
NumberType = str | int | float

number_list: list[NumberType | None] = [0, "1", "2", "3", None, "4", 4.5]
```

:::message
Python 3.9 ã¾ã§ã®æ›¸ãæ–¹

```python
from typing import Union

NumberType = Union[str, int, float]

number_list: list[Optional[NumberType]] = [0, "1", "2", "3", None, "4", 4.5]
```

:::

### ä¾‹å¤–

ä»¥ä¸‹ã®ã‚ˆã†ã«å³è¾ºã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‹ã‚‰å‹ãŒæ˜ã‚‰ã‹ãªå ´åˆã¯ã€å‹ã®æ˜è¨˜ã‚’çœç•¥ã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

```python
hoge_class = HogeClass(param: str)
```

### é–¢æ•°

é–¢æ•°ã®å ´åˆã‚‚ã€å¤‰æ•°ã®å ´åˆã¨æ„è­˜ã™ã‚‹äº‹ã¯ã»ã¼åŒã˜ã§ã™ã€‚å¼•æ•°ã€æˆ»ã‚Šå€¤ã®å‹ã‚’æ¼ã‚Œãªãæ˜è¨˜ã—ã¾ã—ã‚‡ã†ã€‚

```python
def has_spesific_number_in_list(number: str) -> bool:
    number_list: list[str] = self.fetch_number_list_from_db()
    return (number in number_list)
```

é–¢æ•°ã®æˆ»ã‚Šå€¤ãŒãªã„å ´åˆã¯ã€æ˜ç¤ºçš„ã«`None`[^1]ã¨ã—ã¦ã‚ã’ã‚‹ã¨ã€æ›¸ãå¿˜ã‚Œã§ã¯ãªã„ã“ã¨ã‚’èª­ã¿æ‰‹ã«ä¼ãˆã‚‹äº‹ãŒã§ãã€ãƒ™ã‚¿ãƒ¼ã§ã™ã€‚
[^1]: ã“ã“ã§ã¯`None`ã¯ Java ã‚„ Swift ã®`Void`å‹ã¨åŒã˜æ‰±ã„ã«ãªã‚Šã¾ã™ã€‚

```python
def append_number_to_list_in_db(number: str) -> None:
    ...
```

## å‹•çš„å‹ä»˜ã‘è¨€èªã«ã‚‚å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã‚ã›ã‚‹

ä¸Šè¿°ã—ãŸã‚ˆã†ã«å…¨ã¦ã®å¤‰æ•°ã€é–¢æ•°ã®å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ã®å‹ã‚’æ˜è¨˜ã™ã‚Œã°ã€ã‚³ãƒ¼ãƒ‰ã®èª­ã¿æ‰‹ãŒå‹ã®äºˆæƒ³ã‚’å¼·ã„ã‚‰ã‚Œã‚‹é »åº¦ã¯ã€ã‹ãªã‚Šæ¸›ã‚‹ã¯ãšã§ã™ã€‚

é™çš„å‹ä»˜ã‘è¨€èªã®ä¸€ã¤ Swift ã«ã¯ã€[Xcode](https://developer.apple.com/jp/xcode/) ã¨ã„ã†å°‚ç”¨ã®çµ±åˆé–‹ç™ºç’°å¢ƒ(IDE)ãŒã‚ã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚ˆã‚Šã‚‚ã•ã‚‰ã«å‰ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸç¬é–“ã«å‹èµ°æŸ»ãŒèµ°ã‚Šã€å‹ã®ä¸ä¸€è‡´ãŒã‚ã‚Œã°ã‚¨ãƒ©ãƒ¼ã‚’åãå‡ºã—ã¾ã™ã€‚

å‹•çš„å‹ä»˜ã‘è¨€èªã«ã¯å‹ãŒãªã„ãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯å‹ãƒã‚§ãƒƒã‚¯ã‚’ã™ã‚‹æ©Ÿèƒ½ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã—ã‹ã—ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå‹ãƒã‚§ãƒƒã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã‚Œã°ã€å‹•çš„å‹ä»˜ã‘è¨€èªã§ã‚ã£ã¦ã‚‚ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œæ™‚ã‚ˆã‚Šã‚‚å‰ã«ã€å‹ã®ä¸ä¸€è‡´ã«æ°—ä»˜ã‘ã¾ã™ã€‚

- Ruby: [Sorbet](https://sorbet.org/), [Steep](https://github.com/soutaro/steep)
- Python: [mypy](https://github.com/python/mypy)

## é–¢æ•°ã‚’å‘¼ã³å‡ºã™éš›ã«å¼•æ•°åã‚’çœç•¥ã—ãªã„

æœ€å¾Œã«ã€å‹ã‚’æ¼ã‚Œãªãæ˜è¨˜ã—ã¦ã‚‚ã€äºˆæœŸã—ãªã„å€¤ãŒæ··å…¥ã—ã‚„ã™ããªã‚‹ NG ä¾‹ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ãªé–¢æ•°ãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚

```python
def append_and_print(number: str, additional_message: str) -> None:
    self.number_list.append(number)
    print(f"One number has appneded. {additional_message}")
```

å¼•æ•° `number` ã¯ list ã«è¿½åŠ ã•ã‚Œã€å¼•æ•° `additional_message` ã¯ã€`print` é–¢æ•°ã§å‡ºåŠ›ã•ã‚Œã‚‹ã€ã¨ã„ã†å‡¦ç†ã§ã™ã€‚
ã“ã®é–¢æ•°ã®å¼•æ•°ã®å‹ã¯ã€ã©ã¡ã‚‰ã‚‚ `str` å‹ã§ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ãªå¼•æ•°ã®æ¸¡ã—æ–¹ã‚’ã—ãŸã‚‰ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚

```python
append_list_and_print("5 has appended.", "5")
```

æ¸¡ã™ã¹ãå€¤ã®é †ç•ªãŒé€†ãªã®ã§ã€å¼•æ•° number ã«`"5 has appended."`ãŒæ¸¡ã•ã‚Œã€å¼•æ•° additional_message ã«`"5"`ãŒæ¸¡ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

ã“ã®ã‚ˆã†ãªå€¤ã®æ¸¡ã—ãƒŸã‚¹ã‚’é˜²ãç‚ºã«ã‚‚ã€å¼•æ•°åã¯çœç•¥ã›ãšã€æ˜è¨˜ã™ã‚‹ã¨è‰¯ã„ã§ã™ã€‚

```python
append_and_print(number="5", additional_message="5 has appended.")
```

## ã¾ã¨ã‚

ä¸å®‰ãªæ™‚ã¯å‹ã‚’æ›¸ã„ã¦å®‰å¿ƒã—ã‚ˆã†ï¼
